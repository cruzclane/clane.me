---
title: OpenWrt 个人家庭服务器
date: 2024-07-13
---
# What's OpenWrt?

OpenWrt 是一个基于 Linux 开发的面向嵌入式设备的操作系统。简单来说，你可以把它理解为一个功能强大的家庭服务器系统，它能像普通路由器一样，通过本地访问打开后台界面。不同的是，借助 OpenWrt，你拥有的就如同是一台带有图形界面的服务器，可对网络设备进行深度定制和扩展。对于个人用户而言，OpenWrt 是一个非常不错的选择，无论将其用作 NAS（网络附属存储）、软路由，还是普通服务器，它都提供了极为人性化的操作界面。大部分操作既支持终端命令行，也可通过 luci-app-ui 图形界面完成，操作简便，几乎能做到开箱即用。

## 推荐的硬件设备

OpenWrt 对设备硬件要求并不高，如果仅作为软路由使用，小型主机即可满足需求。但要是你打算使用 docker 容器，或者将其作为 NAS，需要运行大量服务，那么建议选择内存至少 8GB 起步的设备，以确保系统流畅运行。

### NanoPi R2S

*   **优点**：体积小巧，特别适合空间有限的用户。它采用 ARM 架构，能耗低，运行稳定。

*   **缺点**：设备本身没有内置存储，需要通过 SD 卡来存储系统和文件。不过，也可通过 USB 接口外接移动硬盘进行存储扩展。但这样一来，购买电源、存储卡、移动硬盘等配件，一套下来也是一笔不小的开支。

### 闲置笔记本（强烈推荐）

*   有网口的笔记本为佳，因为在安装 OpenWrt 系统时，可能会遇到 WiFi 驱动不兼容的问题。

## OpenWrt 面临的问题

OpenWrt 最大的问题可能在于安装过程相对复杂，不像常见的 Linux 发行版那样简单便捷。此外，OpenWrt 的发行版较为混乱，网络上存在大量个人编译版本，质量参差不齐，这给用户选择合适的固件带来了一定困难。

### 如何选择合适的固件？

*   **官方固件**：稳定性高，安全性有保障，但可能默认安装的软件包较少，需要用户自行手动安装所需软件。

*   **第三方编译固件**：通常集成了丰富的软件包和插件，开箱即用，能满足用户多样化的需求。但由于是个人或非官方团队编译，可能存在稳定性和安全性风险。在选择第三方固件时，建议选择知名开发者或社区认可的版本，并从正规渠道下载。

## OpenWrt 的应用场景

### 旁路由模式的优势

对于只有一个网口的笔记本，旁路由模式是唯一选择。但旁路由并非劣势尽显，当家中联网设备众多，无论是家人的电子设备，还是智能家居产品，旁路由的优势就凸显出来了。它不会干扰主路由的正常工作，只有手动修改路由地址的设备才会通过旁路由进行流量代理，这样既保证了网络的稳定性，又能为部分设备提供个性化的网络服务。

### Docker 实现自托管个人服务器

借助 Docker 容器技术，你可以在 OpenWrt 上轻松搭建各种自托管服务，如私有云盘、媒体服务器、密码管理器等。Docker 的优势在于其隔离性和可移植性，使得不同的服务之间相互独立，互不影响，并且可以方便地在不同环境中迁移。

### samba 实现文件共享

通过配置 samba 服务，你可以在家庭网络中轻松实现文件共享。无论是电脑、手机还是平板，都能方便地访问共享文件，实现家庭数据的集中管理和便捷共享。

### cloudflare tunnel 实现外网访问（免费）

cloudflare tunnel 是一种免费的外网访问解决方案，通过它，你可以安全地将家中的服务暴露到外网，实现远程访问。例如，在外出时，你可以通过手机或其他设备，随时随地访问家中的文件服务器、监控摄像头等设备，方便又实用。